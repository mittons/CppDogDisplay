# BUILD.md

## Introduction
This document provides instructions for building the `DogDisplayForCpp` application from source. Aimed at users interested in setting up and running the application in their environments, it offers a clear guide to the build process. The build process has been tested in the following environments:

- **Windows:** 
  - Microsoft Windows 10 Pro.
  - GitHub Actions environment running Microsoft Windows NT 10.0.

- **Linux:** 
  - Ubuntu 22.04.3 LTS, as utilized in a Docker container.
  - GitHub Actions environment running Ubuntu 22.04.3 LTS.

These instructions primarily target the above environments but may be applicable to similar configurations.

## Index
1. **[Linux Installation Guide](#linux-installation-guide)**
   - [1.1 Setting Up the Environment](#--11-setting-up-the-environment)
   - [1.2 Configuring Dependencies](#%EF%B8%8F--12-configuring-dependencies)
   - [1.3 Preparing the Project](#--13-preparing-the-project)
   - [1.4 Building the Application](#%EF%B8%8F--14-building-the-application)
        - [1.4.1 Using the Provided Build Script (Option #1)](#141-using-the-provided-build-script-option-1)
        - [1.4.2 Manually Executing Build Commands (Option #2)](#142-manually-executing-build-commands-option-2)
   - [1.5 Running Tests (Optional)](#--15-running-tests-optional)
   - [1.6 Running the Application](#--16-running-the-application)

2. **[Windows Installation Guide](#windows-installation-guide)**
   - [2.1 Setting Up the Environment](#--21-setting-up-the-environment)
     - [2.1.1 GUI Method (Option #1)](#211-gui-method-option-1)
     - [2.1.2 PowerShell Method (Option #2)](#212-powershell-method-option-2)
   - [2.2 Configuring Dependencies](#%EF%B8%8F--22-configuring-dependencies)
   - [2.3 Preparing the Project](#--23-preparing-the-project)
   - [2.4 Building the Application](#%EF%B8%8F--24-building-the-application)
        - [2.4.1 Using the Provided Build Script (Option #1)](#241-using-the-provided-build-script-option-1)
        - [2.4.2 Manually Executing Build Commands (Option #2)](#242-manually-executing-build-commands-option-2)
   - [2.5 Running Tests (Optional)](#--25-running-tests-optional)
   - [2.6 Running the Application](#--26-running-the-application)

3. **[Conclusion](#conclusion)**

## Linux Installation Guide
### 🌍-🌍-🌍-🌍-🌍-🌍-🌍-🌍-🌍-🌍-🌍
### 🌍 &nbsp; 1.1 Setting Up the Environment
### 🌍-🌍-🌍-🌍-🌍-🌍-🌍

This section provides instructions for setting up the necessary environment to build and run the `DogDisplayForCpp` on Linux. The setup process involves installing several key dependencies through the command line.

1. **Update Package Lists:**
   ```bash
   apt-get update
   ```

2. **Install Python 3 and Pip:**
   ```bash
   apt-get install -y python3
   apt-get install -y python3-pip
   ```

3. **Install CMake:**
   ```bash
   apt-get install -y cmake
   ```

4. **Install Git:**
   ```bash
   apt-get install -y git
   ```

5. **Install Conan and Cryptography:**
   ```bash
   pip3 install conan
   pip3 install cryptography
   ```

### Verify Dependency Installation Success (Optional)

If you wish to verify the installations from the previous step, you can use one or more of the following commands:

<details>
<summary><ins><b>Verify Installation Success:</b></ins> Click here to EXPAND/COLLAPSE section on install verification commands!</summary>


```bash
python3 --version
```

```bash
pip3 --version
```

```bash
cmake --version
```

```bash
git --version
```

```bash
conan --version
```
</div>
</details>

---
### ⚙️-⚙️-⚙️-⚙️-⚙️-⚙️-⚙️-⚙️-⚙️-⚙️
### ⚙️ &nbsp; 1.2 Configuring Dependencies
### ⚙️-⚙️-⚙️-⚙️-⚙️-⚙️-⚙️

After installing the necessary tools, the next step is configuring Conan, a key C/C++ package manager for the project.

#### 1.2.1 Configuring Conan

On Linux, particularly for Ubuntu, Conan typically requires minimal configuration after installation.

1. **Create Default Conan Profile:**
   If Conan is newly installed, create a default profile:
   ```bash
   conan profile detect
   ```
   This command automatically creates a default profile based on your system's settings.

2. **Verify Conan Profile Configuration:**
   It's a good practice to check the generated profile:
   ```bash
   conan profile show default
   ```
   This displays the current configuration, including the C++ standard and other settings.

   Ensure that the `compiler.cppstd` setting in the profile is set to `17` or `gnu17` to avoid conflicts with this project's C++ standard requirement (C++ 17). Incorrect settings may impact the build process.

The default profile generated by Conan is usually aligned with the system's configurations and is generally suitable. However, double-check that the `compiler.cppstd` is set correctly for this project.

---
### 📚-📚-📚-📚-📚-📚-📚-📚-📚-📚
### 📚 &nbsp; 1.3 Preparing the Project 
### 📚-📚-📚-📚-📚-📚-📚

Before building the application, you need to clone the project repository and navigate to its directory:

1. **Clone the Repository:**
   Clone the `DogDisplayForCpp` project from GitHub:
   ```bash
   git clone https://www.github.com/mittons/DogDisplayForCpp.git
   ```

2. **Navigate to the Project Directory:**
   Change to the newly created project directory:
   ```bash
   cd DogDisplayForCpp
   ```

Now that the project is cloned to your local machine, you can proceed to build it.

---
### 🏗️-🏗️-🏗️-🏗️-🏗️-🏗️-🏗️-🏗️-🏗️-🏗️
### 🏗️ &nbsp; 1.4 Building the Application 
### 🏗️-🏗️-🏗️-🏗️-🏗️-🏗️-🏗️

### 1.4.1 Using the Provided Build Script (Option #1)

Simply run the provided build script:

```bash
chmod +x build_script.sh
./build_script.sh
```

This script automates the following steps:

<details>
<summary><ins><b>Build Script Steps:</b></ins> Click here to EXPAND/COLLAPSE for contents of build_script file at release v0.2.0</summary>

```bash
# Install dependencies with Conan
conan install . --build=missing

# Configure the project with CMake
cmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=build/generators/conan_toolchain.cmake -DCMAKE_BUILD_TYPE=Release -DPRODUCTION=ON

# Build the project
cmake --build ./build --config Release
```
</details>

### 1.4.2 Manually Executing Build Commands (Option #2)

If you prefer to manually execute each step in the build process, follow these commands:

```powershell
# Install dependencies with Conan
conan install . --build=missing

# Configure the project with CMake
cmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=build/generators/conan_toolchain.cmake -DCMAKE_BUILD_TYPE=Release -DPRODUCTION=ON

# Build the project
cmake --build ./build --config Release
```

---
### 🧪-🧪-🧪-🧪-🧪-🧪-🧪-🧪-🧪-🧪
### 🧪 &nbsp; 1.5 Running Tests (Optional)
### 🧪-🧪-🧪-🧪-🧪-🧪-🧪

### 1.5.1 Running Unit/Integration Tests (Optional)

After building the application, you can optionally run the unit and integration tests to verify the functionality:

1. **Navigate to the Tests Directory:**
   ```bash
   cd ./build/tests
   ```

2. **Run the Tests:**
   ```bash
   ./AllTests
   ```

3. **Return to the Main Directory:**
   To maintain a consistent working directory for subsequent sections, return to the main directory:
   ```bash
   cd ../../
   ```

---
### 🚀-🚀-🚀-🚀-🚀-🚀-🚀-🚀-🚀-🚀
### 🚀 &nbsp; 1.6 Running the Application
### 🚀-🚀-🚀-🚀-🚀-🚀-🚀


After building the `[Project Name]` application, you can run it directly:

1. **Navigate to the Application Directory:**
   ```bash
   cd ./build/src
   ```

2. **Run the Application:**
   ```bash
   ./DogDisplayForCpp
   ```

The application will start and listen on localhost port 7777.

You can view its contents in a web browser at [http://localhost:7777](http://localhost:7777).


## Windows Installation Guide

### 🌍-🌍-🌍-🌍-🌍-🌍-🌍-🌍-🌍-🌍-🌍
### 🌍 &nbsp; 2.1 Setting Up the Environment
### 🌍-🌍-🌍-🌍-🌍-🌍-🌍

This section provides instructions for setting up the necessary environment to build and run the `[Project Name]`. There are two methods to set up your environment on Windows: through the graphical user interface (GUI) and using PowerShell commands. 

### 2.1.1 GUI Method (Option #1)
For users who prefer using the graphical interface:

1. **Python:**
   - Download Python 3.12.0 from [Python's official website](https://www.python.org/downloads/).
   - During installation, select the option to add Python to PATH.

2. **Git:**
   - Download Git from [Git for Windows](https://gitforwindows.org/).
   - Follow the installation instructions, ensuring Git is added to PATH.

3. **CMake:**
   - Obtain CMake 3.28.1 from [CMake's official website](https://cmake.org/download/).
   - Install CMake and include it in PATH.

4. **Conan and Cryptography:**
   - Open PowerShell or Command Prompt.
   - Install Conan and Cryptography using the command: `python -m pip install conan cryptography`.

5. **Microsoft Visual C++ Build Tools:**
   - Download the build tools from the [Visual Studio website](https://visualstudio.microsoft.com/).
   - Choose the C++ build tools during the installation process.

### 2.1.2 PowerShell Method (Option #2)
For users comfortable with PowerShell:

1. **Install Python:**
   ```powershell
   Invoke-WebRequest -Uri 'https://www.python.org/ftp/python/3.12.0/python-3.12.0.exe' -OutFile 'PythonInstaller.exe'
   Start-Process 'PythonInstaller.exe' -ArgumentList '/quiet InstallAllUsers=1 PrependPath=1 Include_test=0 TargetDir=C:\Python312' -Wait
   ```
   Verify that Python is installed and has been added to PATH:
   ```powershell
   python --version
   ```
   If verification is unsuccessful, update PATH, then reverify:
   ```powershell
   $pythonPath = "C:\Python312"
   $env:Path += ";$pythonPath"
   $env:Path += ";$pythonPath\Scripts"
   python --version
   ```

2. **Install Git:**
   ```powershell
   Invoke-WebRequest -Uri 'https://github.com/git-for-windows/git/releases/download/v2.43.0.windows.1/Git-2.43.0-64-bit.exe' -OutFile 'GitInstaller.exe'
   Start-Process 'GitInstaller.exe' -ArgumentList '/VERYSILENT' -Wait
   ```
   Verify that Git is installed and has been added to PATH:
   ```powershell
   git --version
   ```
   If verification is unsuccessful, update PATH, then reverify:
   ```powershell
   $gitPath = "C:\Program Files\Git\bin"
   $env:Path += ";$gitPath"
   git --version
   ```


3. **Install CMake:**
   ```powershell
   Invoke-WebRequest -Uri 'https://github.com/Kitware/CMake/releases/download/v3.28.1/cmake-3.28.1-windows-x86_64.msi' -OutFile 'CMakeInstaller.msi'
   Start-Process 'msiexec' -ArgumentList '/i CMakeInstaller.msi /quiet' -Wait
   ```
   ```
   Verify that CMake is installed and has been added to PATH:
   ```powershell
   cmake --version
   ```
   If verification is unsuccessful, update PATH, then reverify:
   ```powershell
   $cmakePath = "C:\Program Files\CMake\bin"
   $env:Path += ";$cmakePath"
   cmake --version
   ```

4. **Install Conan and Cryptography:**
   ```powershell
   python -m pip install conan cryptography
   ```

5. **Install Microsoft Visual C++ Build Tools:**
   ```powershell
   Invoke-WebRequest "https://aka.ms/vs/17/release/vs_buildtools.exe" -OutFile "vs_buildtools.exe" -UseBasicParsing
   Start-Process -FilePath 'vs_buildtools.exe' -ArgumentList '--add Microsoft.VisualStudio.Workload.VCTools --includeRecommended --quiet --norestart --nocache' -Wait
   ```

---
### ⚙️-⚙️-⚙️-⚙️-⚙️-⚙️-⚙️-⚙️-⚙️-⚙️
### ⚙️ &nbsp; 2.2 Configuring Dependencies
### ⚙️-⚙️-⚙️-⚙️-⚙️-⚙️-⚙️

### 2.2.1 Configuring Conan

After installing the necessary tools, the next step is to configure Conan, a C/C++ package manager, which is key for the project.

1. **Create Default Conan Profile:**
   If Conan is newly installed, you need to create a default profile:
   ```powershell
   conan profile detect
   ```
   This command creates and configures a default profile based on your system's settings.

2. **Check Current C++ Standard in Conan Profile:**
   Before making any changes, check the current C++ standard set in the Conan profile:
   ```powershell
   conan profile show
   ```
   This command displays the current configuration, including the C++ standard.

3. **Set C++ Standard to 17 in Conan Profile:**
   If the C++ standard is not set to 17, you need to update the profile.

   - **Find and Update the Default Profile (Option #1):**
     Find the location of the default Conan profile file:
     ```powershell
     conan profile path default
     ```
     Then, manually open the profile file and change `compiler.cppstd=XX` to `compiler.cppstd=17`.

   - **Automated Update Using PowerShell (Option #2):**
     If the standard is set to 14, update it to 17 using these PowerShell commands:
     ```powershell
     # Retrieve the path of the default Conan profile
     $CONAN_D_PROFILE_PATH = (conan profile path default)
     
     # Update the profile to use C++ Standard 17
     (Get-Content $CONAN_D_PROFILE_PATH) | ForEach-Object { $_ -replace 'compiler.cppstd=14', 'compiler.cppstd=17' } | Set-Content -Path temp_c_barbarian_profile
     Move-Item -Path temp_c_barbarian_profile -Destination $CONAN_D_PROFILE_PATH -Force
     ```

4. **Verify Conan Profile Configuration:**
   After making changes, re-check the profile settings:
   ```powershell
   conan profile show
   ```
   
   This ensures that the C++ standard is correctly set to 17.

---
### 📚-📚-📚-📚-📚-📚-📚-📚-📚-📚
### 📚 &nbsp; 2.3 Preparing the Project
### 📚-📚-📚-📚-📚-📚-📚

Before building the application, you need to clone the project repository and navigate to its directory:

1. **Clone the Repository:**
   Clone the `DogDisplayForCpp` project from GitHub:
   ```powershell
   git clone https://www.github.com/mittons/DogDisplayForCpp.git
   ```

2. **Navigate to the Project Directory:**
   Change to the newly created project directory:
   ```powershell
   cd DogDisplayForCpp
   ```

Now that the project is cloned to your local machine, you can proceed to build it.

---
### 🏗️-🏗️-🏗️-🏗️-🏗️-🏗️-🏗️-🏗️-🏗️-🏗️
### 🏗️ &nbsp; 2.4 Building the Application 
### 🏗️-🏗️-🏗️-🏗️-🏗️-🏗️-🏗️


This section guides you through the process of building the `DogDisplayForCpp` application. You have two options to proceed:

### 2.4.1 Using the Provided Build Script (Option #1)

Simply run the provided build script:

```powershell
.\build_script.ps1
```

This script automates the following steps:

<details>
<summary><ins><b>Build Script Steps:</b></ins> Click here to EXPAND/COLLAPSE for contents of build_script file at release v0.2.0</summary>

```powershell
# Install dependencies with Conan
conan install . --build=missing

# Configure the project with CMake
cmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=build\generators\conan_toolchain.cmake -DCMAKE_BUILD_TYPE=Release -DPRODUCTION=ON

# Build the project
cmake --build .\build --config Release
```
</details>

### 2.4.2 Manually Executing Build Commands (Option #2)

If you prefer to manually execute each step in the build process, follow these commands:

```powershell
# Install dependencies with Conan
conan install . --build=missing

# Configure the project with CMake
cmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=build\generators\conan_toolchain.cmake -DCMAKE_BUILD_TYPE=Release -DPRODUCTION=ON

# Build the project
cmake --build .\build --config Release
```

---
### 🧪-🧪-🧪-🧪-🧪-🧪-🧪-🧪-🧪-🧪
### 🧪 &nbsp; 2.5 Running Tests (Optional)
### 🧪-🧪-🧪-🧪-🧪-🧪-🧪

### 2.5.1 Running Unit/Integration Tests (Optional)

This section guides you through running the unit and integration tests to ensure the application's functionality:

1. **Navigate to the Tests Directory:**
   ```powershell
   cd .\build\tests\Release
   ```

2. **Run the Tests:**
   ```powershell
   .\AllTests.exe
   ```

3. **Return to the Main Directory:**
   To keep the same working directory state for following sections, navigate back to the main directory:
   ```powershell
   cd ..\..\..
   ```

---
### 🚀-🚀-🚀-🚀-🚀-🚀-🚀-🚀-🚀-🚀
### 🚀 &nbsp; 2.6 Running the Application
### 🚀-🚀-🚀-🚀-🚀-🚀-🚀

To run the `DogDisplayForCpp` application on Windows:

1. **Navigate to the Application Directory:**
   ```powershell
   cd .\build\src\Release
   ```

2. **Run the Application:**
   ```powershell
   .\DogDisplayForCpp.exe
   ```
The application will be running and available on localhost port 7777.

You can view its contents in a web browser at [http://localhost:7777](http://localhost:7777).


## Conclusion

Congratulations on successfully completing the build process for the `DogDisplayForCpp` application. This guide has supported you through the setup of the environment, configuring dependencies, and the actual build and execution for your selected platform.

I trust that the steps provided have been clear and helpful in guiding you to this point. Thank you for engaging with the `DogDisplayForCpp` build process, and I hope your experience with the application has been insightful.